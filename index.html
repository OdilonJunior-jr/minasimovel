<!DOCTYPE html>
<html lang="pt-BR" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#050608">
    <title>Minas Imóveis | Uberaba e Região</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&family=Montserrat:wght@500;600;700;800&display=swap" rel="stylesheet">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>

    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        brand: {
                            gold: '#C6A87C', 
                            goldHover: '#B39467',
                            dark: '#050608', 
                            surface: '#121826',
                            border: 'rgba(255,255,255,0.08)',
                            text: '#E2E8F0',
                            muted: '#9CA3AF',
                            whatsapp: '#25D366'
                        }
                    },
                    fontFamily: {
                        sans: ['"Lato"', 'sans-serif'],
                        display: ['"Montserrat"', 'sans-serif'],
                    }
                }
            }
        }
    </script>

    <style>
        body { background-color: #050608; color: #E2E8F0; overflow-x: hidden; }
        
        /* --- ESTILIZAÇÃO PROFISSIONAL DOS INPUTS --- */
        /* Garante que todos tenham a mesma altura e aparência */
        .input-padrao {
            width: 100%;
            background-color: #121826;
            color: #fff;
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 0.375rem; /* rounded-md */
            padding: 0.75rem 1rem; /* p-3 */
            font-size: 0.875rem; /* text-sm */
            outline: none;
            transition: all 0.3s ease;
            height: 46px; /* Altura fixa para alinhar tudo */
            appearance: none; /* Remove estilos nativos do navegador */
        }

        .input-padrao:focus {
            border-color: #C6A87C;
            box-shadow: 0 0 0 1px rgba(198, 168, 124, 0.2);
        }

        /* Select com Seta Customizada */
        select.input-padrao {
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23C6A87C' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 1rem center;
            background-size: 1em;
        }
        
        select option { background-color: #121826; color: #fff; padding: 10px; }

        /* Remove setinhas do input number */
        input[type=number]::-webkit-inner-spin-button, 
        input[type=number]::-webkit-outer-spin-button { -webkit-appearance: none; margin: 0; }

        /* Logo Mobile */
        .mobile-logo-float {
            position: absolute; top: 2.5rem; left: 50%; transform: translateX(-50%); z-index: 30; 
            width: 80%; max-width: 420px; filter: drop-shadow(0 10px 20px rgba(0,0,0,0.8));
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }
        .logo-hidden { opacity: 0; visibility: hidden; pointer-events: none; }

        /* UI Elements */
        #mobile-menu-overlay { transition: opacity 0.3s ease; }
        #mobile-menu-drawer { transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1); transform: translateX(100%); }
        #mobile-menu-drawer.open { transform: translateX(0); }
        .glass-panel { background: rgba(18, 24, 38, 0.8); backdrop-filter: blur(12px); border: 1px solid rgba(255,255,255,0.08); }
        .fade-in { animation: fadeIn 0.6s ease-out forwards; opacity: 0; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
        
        .watermark-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 9999; display: flex; justify-content: space-between; flex-direction: column; overflow: hidden; opacity: 0.3; }
        .watermark-strip { background: rgba(198, 168, 124, 0.15); color: rgba(255,255,255,0.4); text-transform: uppercase; font-weight: 900; font-size: 10px; letter-spacing: 3px; padding: 4px 0; text-align: center; transform: rotate(-3deg); width: 120%; margin-left: -10%; }
    </style>
</head>
<body class="antialiased font-sans text-gray-300">

    <div class="watermark-container">
        <div class="watermark-strip mt-20">Ambiente de Homologação • Não Divulgar</div>
        <div class="watermark-strip mb-20">Ambiente de Homologação • Não Divulgar</div>
    </div>

    <nav class="hidden lg:flex fixed w-full z-50 bg-[#050608]/95 border-b border-brand-border h-28 items-center justify-center backdrop-blur-md transition-all">
        <div class="max-w-7xl w-full px-8 flex justify-between items-center">
            <div class="h-20 cursor-pointer hover:opacity-90 transition-opacity" onclick="app.router('home')">
                <img src="logo-minas.png" alt="Minas Imóveis" class="h-full w-auto object-contain" onerror="this.onerror=null; this.src='https://via.placeholder.com/300x150/C6A87C/000000?text=MINAS'">
            </div>
            <div class="flex items-center gap-8 font-display text-xs font-bold tracking-widest uppercase text-white">
                <button onclick="app.router('home')" class="hover:text-brand-gold transition-colors py-2 border-b-2 border-transparent hover:border-brand-gold">Home</button>
                <button onclick="app.router('catalog')" class="hover:text-brand-gold transition-colors py-2 border-b-2 border-transparent hover:border-brand-gold">Imóveis</button>
                <button onclick="app.router('about')" class="hover:text-brand-gold transition-colors py-2 border-b-2 border-transparent hover:border-brand-gold">Quem Somos</button>
                <a href="#" class="border border-brand-gold text-brand-gold px-6 py-3 rounded hover:bg-brand-gold hover:text-black transition-all shadow-glow">
                    Anunciar Imóvel
                </a>
            </div>
        </div>
    </nav>

    <div class="lg:hidden">
        <div id="mobile-hero-logo" class="mobile-logo-float" onclick="app.router('home')">
            <img src="logo-minas.png" alt="Minas Imóveis" class="w-full h-auto object-contain" onerror="this.onerror=null; this.src='https://via.placeholder.com/400x200/C6A87C/000000?text=MINAS'">
        </div>
        <button onclick="toggleMobileMenu()" class="fixed top-6 right-6 z-50 glass-panel p-3 rounded-full text-white shadow-xl active:scale-95 transition-transform">
            <i data-lucide="menu" class="w-7 h-7"></i>
        </button>
        <div id="mobile-menu-overlay" onclick="toggleMobileMenu()" class="fixed inset-0 bg-black/90 z-[60] hidden opacity-0 backdrop-blur-sm"></div>
        <div id="mobile-menu-drawer" class="fixed top-0 right-0 h-full w-[85%] max-w-[320px] bg-[#080A12] z-[70] border-l border-brand-border shadow-2xl flex flex-col">
            <div class="p-6 flex justify-between items-center border-b border-brand-border">
                <span class="text-brand-gold font-bold text-xs uppercase tracking-widest">Navegação</span>
                <button onclick="toggleMobileMenu()" class="text-white hover:text-brand-gold"><i data-lucide="x" class="w-7 h-7"></i></button>
            </div>
            <div class="p-6 flex-grow overflow-y-auto">
                <a href="#" class="block w-full text-center border border-brand-gold/30 text-brand-gold font-bold py-4 rounded mb-8 hover:bg-brand-gold/10 transition-colors uppercase text-xs tracking-widest shadow-lg">
                    + Anunciar Imóvel
                </a>
                <nav class="flex flex-col gap-6 font-display text-xl font-bold text-white">
                    <button onclick="app.router('home'); toggleMobileMenu()" class="text-left flex items-center gap-4 hover:text-brand-gold transition-colors"><i data-lucide="home" class="w-5 h-5 text-brand-gold"></i> Início</button>
                    <button onclick="app.router('catalog'); toggleMobileMenu()" class="text-left flex items-center gap-4 hover:text-brand-gold transition-colors"><i data-lucide="search" class="w-5 h-5 text-brand-gold"></i> Buscar</button>
                    <button onclick="app.router('about'); toggleMobileMenu()" class="text-left flex items-center gap-4 hover:text-brand-gold transition-colors"><i data-lucide="info" class="w-5 h-5 text-brand-gold"></i> A Imobiliária</button>
                </nav>
            </div>
            <div class="p-6 border-t border-brand-border text-center">
                <p class="text-[10px] text-gray-500 uppercase tracking-widest">Creci PJ 9456</p>
            </div>
        </div>
    </div>

    <main id="app-container" class="min-h-screen relative z-10"></main>

    <footer class="bg-[#020203] border-t border-brand-border pt-20 pb-10 relative z-20">
        <div class="max-w-7xl mx-auto px-6 grid md:grid-cols-3 gap-12 mb-12">
            <div>
                <img src="logo-minas.png" class="h-16 w-auto mb-6 opacity-90" onerror="this.onerror=null; this.src='https://via.placeholder.com/150x60/C6A87C/000000?text=M'">
                <p class="text-gray-500 text-sm leading-relaxed mb-6">Líder em negócios imobiliários em Uberaba e região. Conectando oportunidades rurais e urbanas com segurança jurídica.</p>
                <div class="flex gap-4"><a href="#" class="p-2 rounded bg-white/5 hover:bg-brand-gold hover:text-black transition-all"><i data-lucide="instagram" class="w-5 h-5"></i></a></div>
            </div>
            <div>
                <h4 class="font-display font-bold text-white text-sm mb-6 uppercase tracking-widest border-b border-brand-gold/30 pb-2 inline-block">Contato</h4>
                <ul class="space-y-4 text-sm text-gray-400">
                    <li class="flex gap-3 items-start"><i data-lucide="map-pin" class="text-brand-gold w-5 h-5 shrink-0 mt-0.5"></i> Av. Frei Paulino, 288 - Abadia, Uberaba-MG</li>
                    <li class="flex gap-3 items-center"><i data-lucide="phone" class="text-brand-gold w-5 h-5 shrink-0"></i> (34) 99979-9174</li>
                    <li class="flex gap-3 items-center"><i data-lucide="mail" class="text-brand-gold w-5 h-5 shrink-0"></i> contato@minasimoveis.com.br</li>
                </ul>
            </div>
            <div class="h-48 rounded-lg overflow-hidden border border-brand-border bg-gray-900 grayscale hover:grayscale-0 transition-all duration-700">
                <iframe src="https://maps.google.com/maps?q=Av.+Frei+Paulino,+288+-+Abadia,+Uberaba+-+MG&t=&z=15&ie=UTF8&iwloc=&output=embed" width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
            </div>
        </div>
        <div class="text-center text-xs text-gray-600 pt-8 border-t border-white/5">© 2026 Minas Imóveis. Creci PJ 9456. Todos os direitos reservados.</div>
    </footer>

    <script>
        // --- DADOS MOCK (UBERABA) + LOCALSTORAGE ---
        const mockProperties = [
            { id: 1, title: "Mansão Alphaville I - Alto Padrão", type: "Casa", purpose: "comprar", price: 3200000, beds: 4, baths: 5, garage: 4, area: 520, location: "Alphaville, Uberaba", image: "https://images.unsplash.com/photo-1613490493576-7fde63acd811?q=80&w=1600&auto=format&fit=crop", description: "Projeto contemporâneo com automação total.", features: ["Piscina Aquecida", "Energia Fotovoltaica", "Automação", "Espaço Gourmet"] },
            { id: 2, title: "Fazenda Produtiva Sta. Maria", type: "Fazenda", purpose: "comprar", price: 18000000, beds: 5, baths: 4, garage: 10, area: 5000000, location: "Zona Rural, Uberaba", image: "https://images.unsplash.com/photo-1444858291040-58f756a3bdd6?q=80&w=1600&auto=format&fit=crop", description: "Terra roxa de cultura, rica em água.", features: ["Rica em Água", "Curralama", "Sede Histórica", "Dupla Aptidão"] },
            { id: 3, title: "Apartamento Skyline Centro", type: "Apartamento", purpose: "alugar", price: 3500, beds: 3, baths: 3, garage: 2, area: 130, location: "Centro, Uberaba", image: "https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?q=80&w=1600&auto=format&fit=crop", description: "Andar alto com vista definitiva.", features: ["Mobiliado", "Varanda Gourmet", "Portaria 24h"] },
            { id: 4, title: "Galpão Logístico DI-3", type: "Galpão", purpose: "alugar", price: 22000, beds: 0, baths: 4, garage: 20, area: 2000, location: "Distrito Industrial III", image: "https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?q=80&w=1600&auto=format&fit=crop", description: "Pé direito 12m, piso de alta tonelagem.", features: ["Docas", "Pátio Manobra", "Escritórios"] },
            { id: 5, title: "Terreno Condomínio Damha II", type: "Terreno", purpose: "comprar", price: 420000, beds: 0, baths: 0, garage: 0, area: 480, location: "Damha II, Uberaba", image: "https://images.unsplash.com/photo-1500382017468-9049fed747ef?q=80&w=1600&auto=format&fit=crop", description: "Lote de ilha, parte alta, plano.", features: ["Topografia Plana", "Sol da Manhã", "Pronto p/ Construir"] },
            { id: 6, title: "Chácara de Lazer Peirópolis", type: "Sítio", purpose: "comprar", price: 890000, beds: 3, baths: 3, garage: 10, area: 5000, location: "Peirópolis", image: "https://images.unsplash.com/photo-1464288550599-43d5a73451b8?q=80&w=1600&auto=format&fit=crop", description: "Lugar de paz com pomar formado.", features: ["Pomar", "Casa de Caseiro", "Poço Artesiano"] }
        ];

        const stored = JSON.parse(localStorage.getItem('minas_imoveis_data') || '[]');
        const properties = [...stored, ...mockProperties]; 

        // LÓGICA DE PREÇO (Cálculo do Mínimo e Máximo Real)
        const allPrices = properties.map(p => Number(p.price));
        const realMin = allPrices.length ? Math.min(...allPrices) : 0;
        const realMax = allPrices.length ? Math.max(...allPrices) : 50000000;

        const state = { 
            view: 'home', 
            properties, 
            filteredProperties: properties, 
            filters: { type: 'all', purpose: 'all', search: '', minPrice: realMin, maxPrice: realMax, beds: 0, baths: 0, garage: 0 },
            datasetMin: realMin,
            datasetMax: realMax
        };

        const formatCurrency = (v) => new Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL', maximumFractionDigits: 0 }).format(v);
        const formatNumber = (v) => new Intl.NumberFormat('pt-BR').format(v);

        const createCard = (p) => `
            <div class="group bg-brand-surface border border-white/5 rounded-lg overflow-hidden cursor-pointer flex flex-col h-full hover:border-brand-gold/50 transition-all duration-300 shadow-lg" onclick="app.showDetails(${p.id})">
                <div class="relative h-64 bg-black">
                    <img src="${p.image}" class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110" loading="lazy">
                    <div class="absolute inset-0 bg-gradient-to-t from-brand-surface via-transparent to-transparent opacity-90"></div>
                    <div class="absolute top-3 left-3"><span class="bg-brand-gold text-black text-[10px] font-bold px-2 py-1 rounded uppercase tracking-widest">${p.purpose}</span></div>
                    <div class="absolute bottom-3 left-3"><p class="text-white text-xl font-bold font-display tracking-tight drop-shadow-md">${formatCurrency(p.price)}</p></div>
                </div>
                <div class="p-5 flex flex-col flex-grow">
                    <span class="text-brand-gold text-[10px] font-bold uppercase tracking-widest mb-1 block font-display">${p.type}</span>
                    <h3 class="text-white font-display font-bold text-lg mb-1 leading-tight line-clamp-1 group-hover:text-brand-gold transition-colors">${p.title}</h3>
                    <p class="text-brand-muted text-xs mb-4 flex items-center gap-1 line-clamp-1"><i data-lucide="map-pin" class="w-3 h-3 shrink-0"></i> ${p.location}</p>
                    <div class="mt-auto pt-4 border-t border-white/5 grid grid-cols-4 gap-1 text-brand-muted text-[10px] font-bold uppercase tracking-wider text-center font-display">
                        ${p.type!=='Terreno' && p.type!=='Galpão' ? `
                            <div class="flex flex-col items-center"><i data-lucide="bed-double" class="w-3.5 h-3.5 text-brand-gold mb-1"></i>${p.beds}</div>
                            <div class="flex flex-col items-center"><i data-lucide="shower-head" class="w-3.5 h-3.5 text-brand-gold mb-1"></i>${p.baths}</div>
                        ` : '<div class="col-span-2"></div>'}
                        <div class="flex flex-col items-center"><i data-lucide="car" class="w-3.5 h-3.5 text-brand-gold mb-1"></i>${p.garage}</div>
                        <div class="flex flex-col items-center" title="${formatNumber(p.area)} m²"><i data-lucide="ruler" class="w-3.5 h-3.5 text-brand-gold mb-1"></i><span class="truncate w-full">${formatNumber(p.area)}</span></div>
                    </div>
                </div>
            </div>
        `;

        const views = {
            home: () => `
                <section class="relative min-h-[92vh] flex items-center justify-center lg:pt-28 overflow-hidden bg-[#050608]">
                    <div class="absolute inset-0 z-0"><img src="https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?q=80&w=2000&auto=format&fit=crop" class="w-full h-full object-cover opacity-20 animate-[pulse_15s_ease-in-out_infinite]"><div class="absolute inset-0 bg-gradient-to-b from-[#050608]/90 via-transparent to-[#050608]"></div></div>
                    <div class="relative z-50 max-w-5xl px-6 text-center fade-in pt-48 lg:pt-0">
                        <p class="text-brand-gold text-xs font-bold uppercase tracking-[0.3em] mb-6">Creci PJ 9456</p>
                        <h1 class="text-4xl md:text-7xl font-display font-extrabold text-white mb-8 leading-tight tracking-tight">O imóvel ideal para<br><span class="text-brand-gold">seu investimento.</span></h1>
                        <div class="glass-panel p-2 rounded flex flex-col md:flex-row shadow-2xl max-w-3xl mx-auto border border-brand-gold/30">
                            <div class="flex-grow flex items-center px-4 py-4 border-b md:border-b-0 md:border-r border-white/10"><i data-lucide="search" class="text-brand-gold w-5 h-5 mr-3 shrink-0"></i><input type="text" placeholder="Busque por bairro, ex: Alphaville..." class="bg-transparent w-full text-white placeholder-gray-500 outline-none font-medium text-sm relative z-20" oninput="app.updateSearch(this.value)"></div>
                            <button onclick="app.router('catalog')" class="bg-brand-gold hover:bg-white hover:text-black text-black font-extrabold px-10 py-4 rounded uppercase tracking-widest text-xs transition-all shrink-0 relative z-20">Buscar Imóveis</button>
                        </div>
                    </div>
                </section>
                <section class="py-24 px-6 max-w-7xl mx-auto">
                    <div class="flex justify-between items-end mb-12 border-b border-white/10 pb-4">
                        <h2 class="text-2xl font-display font-bold text-white">Destaques</h2>
                        <button onclick="app.router('catalog')" class="text-brand-gold text-xs font-bold uppercase tracking-widest hover:text-white transition-colors">Ver Todos →</button>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">${state.properties.slice(0, 3).map(createCard).join('')}</div>
                </section>
            `,
            catalog: () => {
                return `
                <div class="flex flex-col lg:flex-row min-h-screen pt-0 lg:pt-28">
                    <aside class="w-full lg:w-80 bg-[#050608] border-r border-brand-border p-6 lg:h-[calc(100vh-7rem)] lg:sticky lg:top-28 overflow-y-auto z-20">
                        <div class="flex justify-between items-center mb-8 pb-4 border-b border-white/10">
                            <h2 class="text-xs font-display font-bold uppercase tracking-widest text-white">Filtros</h2>
                            </div>
                        <div class="space-y-8">
                            <div>
                                <label class="text-[10px] text-brand-gold uppercase font-bold mb-3 block tracking-widest">Busca</label>
                                <div class="flex gap-2">
                                    <input type="text" class="input-padrao" value="${state.filters.search}" oninput="app.setFilter('search', this.value)" placeholder="Bairro ou Tipo...">
                                    <button onclick="app.resetFilters()" class="bg-white/5 hover:bg-brand-gold hover:text-black text-white px-3 rounded border border-white/10 transition-all flex items-center justify-center h-[46px] aspect-square" title="Limpar Filtros"><i data-lucide="rotate-ccw" class="w-4 h-4"></i></button>
                                </div>
                            </div>
                            <div class="grid grid-cols-2 gap-2">
                                <button onclick="app.setFilter('purpose', 'comprar')" class="h-[46px] text-xs font-bold uppercase tracking-wider rounded border transition-all ${state.filters.purpose==='comprar'?'bg-brand-gold text-black border-brand-gold':'border-white/10 text-gray-400'}">Comprar</button>
                                <button onclick="app.setFilter('purpose', 'alugar')" class="h-[46px] text-xs font-bold uppercase tracking-wider rounded border transition-all ${state.filters.purpose==='alugar'?'bg-brand-gold text-black border-brand-gold':'border-white/10 text-gray-400'}">Alugar</button>
                            </div>
                            <div>
                                <label class="text-[10px] text-brand-gold uppercase font-bold mb-3 block tracking-widest">Tipo</label>
                                <select onchange="app.setFilter('type', this.value)" class="input-padrao cursor-pointer">
                                    <option value="all">Todos os tipos</option>
                                    <option value="Casa">Casa</option>
                                    <option value="Fazenda">Fazenda</option>
                                    <option value="Terreno">Terreno</option>
                                    <option value="Apartamento">Apartamento</option>
                                    <option value="Galpão">Galpão</option>
                                </select>
                            </div>
                            
                            <div>
                                <label class="text-[10px] text-brand-gold uppercase font-bold mb-4 flex justify-between tracking-widest"><span>Faixa de Valor (R$)</span></label>
                                <div class="flex gap-4">
                                    <div class="w-1/2">
                                        <span class="text-[10px] text-gray-500 mb-1 block">Mínimo</span>
                                        <input type="number" class="input-padrao text-center" value="${state.filters.minPrice}" onchange="app.setFilter('minPrice', Number(this.value))">
                                    </div>
                                    <div class="w-1/2">
                                        <span class="text-[10px] text-gray-500 mb-1 block">Máximo</span>
                                        <input type="number" class="input-padrao text-center" value="${state.filters.maxPrice}" onchange="app.setFilter('maxPrice', Number(this.value))">
                                    </div>
                                </div>
                            </div>

                            <div class="grid grid-cols-3 gap-2 border-t border-white/10 pt-6">
                                <div><label class="text-[10px] text-brand-gold text-center block mb-2 font-bold uppercase flex items-center justify-center gap-1"><i data-lucide="bed-double" class="w-3 h-3"></i> Qtos</label><select onchange="app.setFilter('beds', this.value)" class="input-padrao text-center"><option value="0">-</option><option value="2">2+</option><option value="3">3+</option><option value="4">4+</option></select></div>
                                <div><label class="text-[10px] text-brand-gold text-center block mb-2 font-bold uppercase flex items-center justify-center gap-1"><i data-lucide="shower-head" class="w-3 h-3"></i> Ban</label><select onchange="app.setFilter('baths', this.value)" class="input-padrao text-center"><option value="0">-</option><option value="2">2+</option><option value="3">3+</option></select></div>
                                <div><label class="text-[10px] text-brand-gold text-center block mb-2 font-bold uppercase flex items-center justify-center gap-1"><i data-lucide="car" class="w-3 h-3"></i> Vag</label><select onchange="app.setFilter('garage', this.value)" class="input-padrao text-center"><option value="0">-</option><option value="2">2+</option><option value="3">3+</option></select></div>
                            </div>
                        </div>
                    </aside>
                    <div class="flex-1 p-6 lg:p-12 bg-[#080A12]">
                        <div class="flex justify-between items-center mb-8 pb-4 border-b border-white/10"><h2 class="text-xl font-display font-bold text-white">${state.filteredProperties.length} Imóveis</h2></div>
                        ${state.filteredProperties.length===0 ? `<div class="text-center py-20 opacity-50"><p class="text-white">Nenhum imóvel encontrado.</p><button onclick="app.resetFilters()" class="text-brand-gold underline mt-2 text-sm">Limpar Filtros</button></div>` : `<div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-8 fade-in">${state.filteredProperties.map(createCard).join('')}</div>`}
                    </div>
                </div>`;
            },
            details: () => {
                const p = state.selectedProperty; if(!p) return app.router('catalog');
                
                const featuresList = Array.isArray(p.features) ? p.features.map(f => typeof f === 'string' ? {icon: 'check', text: f} : f) : [];
                const featuresHtml = featuresList.length ? `<div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-8">${featuresList.map(f => `<div class="flex items-center gap-3 bg-white/5 p-4 rounded border border-white/5"><i data-lucide="${f.icon||'check'}" class="w-5 h-5 text-brand-gold shrink-0"></i><span class="text-gray-300 text-sm font-medium">${f.text}</span></div>`).join('')}</div>` : '';
                
                const wsIcon = `<svg viewBox="0 0 24 24" width="20" height="20" fill="#ffffff" class="mr-2"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>`;

                return `
                <div class="fade-in pb-20 lg:pt-28">
                    <div class="relative h-[50vh] w-full"><img src="${p.image}" class="w-full h-full object-cover"><div class="absolute inset-0 bg-black/60"></div><button onclick="app.router('catalog')" class="absolute top-4 left-4 z-20 bg-black/60 text-white px-4 py-2 rounded flex items-center gap-2 text-xs font-bold uppercase tracking-widest backdrop-blur hover:bg-brand-gold hover:text-black"><i data-lucide="arrow-left" class="w-4 h-4"></i> Voltar</button></div>
                    <div class="max-w-6xl mx-auto px-4 md:px-6 relative z-10 -mt-24">
                        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                            <div class="lg:col-span-2">
                                <div class="glass-panel p-6 md:p-8 rounded-lg bg-[#121826]">
                                    <div class="flex flex-col md:flex-row justify-between mb-6">
                                        <div><span class="text-brand-gold font-bold uppercase text-xs tracking-widest mb-2 block font-display">${p.type} • ${p.purpose}</span><h1 class="text-2xl md:text-3xl font-display font-bold text-white mb-2 leading-tight">${p.title}</h1><p class="text-gray-400 flex items-center gap-2 text-sm"><i data-lucide="map-pin" class="w-4 h-4 shrink-0"></i> ${p.location}</p></div>
                                        <div class="mt-4 md:mt-0 text-right"><p class="text-2xl md:text-3xl font-bold text-white font-display">${formatCurrency(p.price)}</p></div>
                                    </div>
                                    <div class="grid grid-cols-4 gap-2 mb-8 text-center bg-black/20 p-4 rounded border border-white/5 font-display">
                                        <div><span class="block text-lg font-bold text-white truncate">${p.beds}</span><span class="text-[10px] uppercase text-gray-500">Qtos</span></div>
                                        <div><span class="block text-lg font-bold text-white truncate">${p.baths}</span><span class="text-[10px] uppercase text-gray-500">Ban</span></div>
                                        <div><span class="block text-lg font-bold text-white truncate">${p.garage}</span><span class="text-[10px] uppercase text-gray-500">Vag</span></div>
                                        <div title="${formatNumber(p.area)} m²"><span class="block text-lg font-bold text-white truncate">${formatNumber(p.area)}</span><span class="text-[10px] uppercase text-gray-500">m²</span></div>
                                    </div>
                                    <h3 class="font-display text-sm font-bold text-white mb-4 uppercase tracking-widest">Características</h3>${featuresHtml}<p class="text-gray-400 leading-relaxed text-sm border-t border-white/10 pt-6 font-sans">${p.description}</p>
                                </div>
                            </div>
                            <div class="lg:col-span-1"><div class="glass-panel p-6 rounded-lg sticky top-36 bg-[#121826]"><h3 class="font-bold text-white mb-6 uppercase tracking-widest text-xs border-b border-white/10 pb-2 font-display">Interesse no Imóvel</h3>
                            <a href="https://wa.me/5534984408992?text=Olá, tenho interesse no imóvel: ${p.title}" target="_blank" class="w-full bg-brand-whatsapp hover:bg-green-600 text-white font-bold py-4 rounded flex items-center justify-center transition-all shadow-lg uppercase tracking-widest text-xs">
                                ${wsIcon} Conversar Agora
                            </a></div></div>
                        </div>
                    </div>
                </div>`;
            },
            about: () => `<div class="pt-32 max-w-4xl mx-auto px-6 text-center fade-in pb-20"><h1 class="text-4xl font-display font-bold text-white mb-8">Nossa História</h1><div class="glass-panel p-10 rounded text-left text-gray-300 space-y-6 leading-relaxed bg-[#121826]"><p>A <strong class="text-brand-gold">Minas Imóveis</strong> é referência em Uberaba.</p></div></div>`
        };

        const app = {
            init: () => { app.router('home'); lucide.createIcons(); },
            router: (v) => { state.view=v; window.scrollTo(0,0); document.getElementById('app-container').innerHTML = views[v]?views[v]():views['home'](); const mobileLogo = document.getElementById('mobile-hero-logo'); if (v === 'home') { mobileLogo.classList.remove('logo-hidden'); } else { mobileLogo.classList.add('logo-hidden'); } lucide.createIcons(); },
            showDetails: (id) => { const p = state.properties.find(x=>x.id===id); if(p){ state.selectedProperty=p; app.router('details'); } },
            setFilter: (k,v) => { 
                if (k === 'minPrice') state.filters.minPrice = v ? parseInt(v) : state.datasetMin;
                else if (k === 'maxPrice') state.filters.maxPrice = v ? parseInt(v) : state.datasetMax;
                else state.filters[k] = v; 
                app.applyFilters(); 
            },
            resetFilters: () => { state.filters={type:'all',purpose:'all',search:'',minPrice:state.datasetMin,maxPrice:state.datasetMax,beds:0,baths:0,garage:0}; app.router('catalog'); },
            applyFilters: () => { let r=state.properties, f=state.filters; if(f.purpose!=='all') r=r.filter(p=>p.purpose===f.purpose); if(f.type!=='all') r=r.filter(p=>p.type===f.type); r=r.filter(p=>p.price>=f.minPrice && p.price<=f.maxPrice); if(f.beds>0) r=r.filter(p=>p.beds>=f.beds); if(f.baths>0) r=r.filter(p=>p.baths>=f.baths); if(f.garage>0) r=r.filter(p=>p.garage>=f.garage); if(f.search) r=r.filter(p=>p.title.toLowerCase().includes(f.search.toLowerCase())||p.location.toLowerCase().includes(f.search.toLowerCase())); state.filteredProperties=r; if(state.view==='catalog') app.router('catalog'); },
            updateSearch: (v) => { state.filters.search=v; if(state.view==='home'&&v.length>2){ app.setFilter('search',v); app.router('catalog'); }}
        };

        const toggleMobileMenu = () => { const o=document.getElementById('mobile-menu-overlay'), d=document.getElementById('mobile-menu-drawer'); if(o.classList.contains('hidden')){o.classList.remove('hidden'); setTimeout(()=>o.classList.remove('opacity-0'),10); setTimeout(()=>d.classList.add('open'),10)}else{d.classList.remove('open'); o.classList.add('opacity-0'); setTimeout(()=>o.classList.add('hidden'),300)}};
        document.addEventListener('DOMContentLoaded', app.init);
    </script>
</body>
</html>